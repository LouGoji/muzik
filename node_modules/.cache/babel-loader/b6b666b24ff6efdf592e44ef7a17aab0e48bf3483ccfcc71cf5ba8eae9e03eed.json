{"ast":null,"code":"const API_URL = 'https://itunes.apple.com/search?term=';\nconst fetchSearch = async search => {\n  const response = await fetch(API_URL + search);\n  const resData = await response.json();\n  return resData.results;\n};\nconst wrapPromise = promise => {\n  let status = 'pending';\n  let result = '';\n  let suspender = promise.then(response => {\n    status = 'success';\n    result = response;\n  }, err => {\n    status = 'error';\n    result = err;\n  });\n  return {\n    read() {\n      if (status === 'pending') {\n        throw suspender;\n      } else if (status === 'error') {\n        throw result;\n      }\n      return result;\n    }\n  };\n};\nexport const createResource = search => {\n  return {\n    result: wrapPromise(fetchSearch(search))\n  };\n};","map":{"version":3,"names":["API_URL","fetchSearch","search","response","fetch","resData","json","results","wrapPromise","promise","status","result","suspender","then","err","read","createResource"],"sources":["/Users/loiuismantell/muzik/src/helper.js"],"sourcesContent":["const API_URL = 'https://itunes.apple.com/search?term='\nconst fetchSearch = async (search) => {\n    const response = await fetch(API_URL + search)\n    const resData = await response.json()\n    return resData.results\n}\n\n\nconst wrapPromise = (promise) => {\n\n    let status = 'pending'\n\n    let result = ''\n\n    let suspender = promise.then(response => {\n        status = 'success'\n        result = response\n    }, err => {\n        status = 'error'\n        result = err\n    })\n\n\n    return {\n        read() {\n\n            if(status === 'pending') {\n                throw suspender\n            }\n\n            else if (status === 'error') {\n                throw result\n            }\n            return result\n        }\n    }\n}\n\nexport const createResource = (search) => {\n    return {\n        result: wrapPromise(fetchSearch(search))\n    }\n}"],"mappings":"AAAA,MAAMA,OAAO,GAAG,uCAAuC;AACvD,MAAMC,WAAW,GAAG,MAAOC,MAAM,IAAK;EAClC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACJ,OAAO,GAAGE,MAAM,CAAC;EAC9C,MAAMG,OAAO,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;EACrC,OAAOD,OAAO,CAACE,OAAO;AAC1B,CAAC;AAGD,MAAMC,WAAW,GAAIC,OAAO,IAAK;EAE7B,IAAIC,MAAM,GAAG,SAAS;EAEtB,IAAIC,MAAM,GAAG,EAAE;EAEf,IAAIC,SAAS,GAAGH,OAAO,CAACI,IAAI,CAACV,QAAQ,IAAI;IACrCO,MAAM,GAAG,SAAS;IAClBC,MAAM,GAAGR,QAAQ;EACrB,CAAC,EAAEW,GAAG,IAAI;IACNJ,MAAM,GAAG,OAAO;IAChBC,MAAM,GAAGG,GAAG;EAChB,CAAC,CAAC;EAGF,OAAO;IACHC,IAAI,GAAG;MAEH,IAAGL,MAAM,KAAK,SAAS,EAAE;QACrB,MAAME,SAAS;MACnB,CAAC,MAEI,IAAIF,MAAM,KAAK,OAAO,EAAE;QACzB,MAAMC,MAAM;MAChB;MACA,OAAOA,MAAM;IACjB;EACJ,CAAC;AACL,CAAC;AAED,OAAO,MAAMK,cAAc,GAAId,MAAM,IAAK;EACtC,OAAO;IACHS,MAAM,EAAEH,WAAW,CAACP,WAAW,CAACC,MAAM,CAAC;EAC3C,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}